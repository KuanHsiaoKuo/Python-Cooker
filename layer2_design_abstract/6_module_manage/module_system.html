<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js rust">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>模块系统 - Python Cooker 🐍</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="写Python如烹小鲜">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff"/>

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/general.css">
    <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../highlight.css">
    <link rel="stylesheet" href="../../tomorrow-night.css">
    <link rel="stylesheet" href="../../ayu-highlight.css">

    <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../assets/pagetoc/pagetoc_style.css">
        <link rel="stylesheet" href="../../assets/css/mdbook-admonish.css">

        <!-- MathJax -->
        <script async type="text/javascript"
                src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "../../";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) {
    }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var theme;
    try {
        theme = localStorage.getItem('mdbook-theme');
    } catch (e) {
    }
    if (theme === null || theme === undefined) {
        theme = default_theme;
    }
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.remove('rust')
    html.classList.add(theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try {
            sidebar = localStorage.getItem('mdbook-sidebar');
        } catch (e) {
        }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item expanded "><a href="../../../index.html"><strong aria-hidden="true">1.</strong> 总览</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/1_underlying/os/pythontutor_anatomy.html"><strong aria-hidden="true">1.1.</strong> Pythontutor解剖</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/layer1_underlying_abstract.html"><strong aria-hidden="true">2.</strong> Layer1: 底层抽象</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/1_virtual_memory/virtual_memory.html"><strong aria-hidden="true">2.1.</strong> 虚拟内存管理</a></li><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/2_type_system/type_system.html"><strong aria-hidden="true">2.2.</strong> 类型系统</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/2_type_system/built_in_types.html"><strong aria-hidden="true">2.2.1.</strong> 基础内置类型</a></li><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/2_type_system/collections.html"><strong aria-hidden="true">2.2.2.</strong> 集合类型</a></li><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/2_type_system/user_defined_types.html"><strong aria-hidden="true">2.2.3.</strong> 自定义类型</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/3_language_grammar/language_grammar.html"><strong aria-hidden="true">2.3.</strong> 语言语法</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/3_language_grammar/keywords_glossary.html"><strong aria-hidden="true">2.3.1.</strong> 词法结构扫盲</a></li><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/3_language_grammar/logical_decision_loops.html"><strong aria-hidden="true">2.3.2.</strong> 逻辑判断与循环♻️</a></li><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/3_language_grammar/statements_expressions.html"><strong aria-hidden="true">2.3.3.</strong> 语句与表达式</a></li><li class="chapter-item expanded "><a href="../../layer1_underlying_abstract/3_language_grammar/code_quality.html"><strong aria-hidden="true">2.3.4.</strong> 代码质量</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../layer2_design_abstract/layer2_design_abstract.html"><strong aria-hidden="true">3.</strong> Layer2: 设计抽象</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer2_design_abstract/4_programming_paradigm/4_programming_paradigm.html"><strong aria-hidden="true">3.1.</strong> 编程范式</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer2_design_abstract/4_programming_paradigm/fp.html"><strong aria-hidden="true">3.1.1.</strong> 函数式编程</a></li><li class="chapter-item expanded "><a href="../../layer2_design_abstract/4_programming_paradigm/oop.html"><strong aria-hidden="true">3.1.2.</strong> 面向对象编程</a></li><li class="chapter-item expanded "><a href="../../layer2_design_abstract/4_programming_paradigm/gp.html"><strong aria-hidden="true">3.1.3.</strong> 泛型编程</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer2_design_abstract/5_design_pattern/5_design_pattern.html"><strong aria-hidden="true">3.2.</strong> 设计模式</a></li><li class="chapter-item expanded "><a href="../../layer2_design_abstract/6_module_manage/6_module_manage.html"><strong aria-hidden="true">3.3.</strong> 模块管理</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer2_design_abstract/6_module_manage/module_system.html" class="active"><strong aria-hidden="true">3.3.1.</strong> 模块系统</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../layer3_task_abstract/layer3_task_abstract.html"><strong aria-hidden="true">4.</strong> Layer3: 任务抽象</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer3_task_abstract/7_concurrency/7_concurrency.html"><strong aria-hidden="true">4.1.</strong> 并发编程</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer3_task_abstract/7_concurrency/io_models.html"><strong aria-hidden="true">4.1.1.</strong> 系统IO模型</a></li><li class="chapter-item expanded "><a href="../../layer3_task_abstract/7_concurrency/1_multi_models/multi_models.html"><strong aria-hidden="true">4.1.2.</strong> 多线程模型</a></li><li class="chapter-item expanded "><a href="../../layer3_task_abstract/7_concurrency/2_async_models/async_models.html"><strong aria-hidden="true">4.1.3.</strong> 异步模型</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer3_task_abstract/8_meta_programming/8_meta_programming.html"><strong aria-hidden="true">4.2.</strong> 元编程</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer4_protocol_abstract/layer4_protocol_abstract.html"><strong aria-hidden="true">5.</strong> Layer4: 协议抽象</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer4_protocol_abstract/9_multilingual_programming/9_multilingual_programming.html"><strong aria-hidden="true">5.1.</strong> 跨语言编程</a></li><li class="chapter-item expanded "><a href="../../layer4_protocol_abstract/10_computer_network/10_computer_network.html"><strong aria-hidden="true">5.2.</strong> 计算机网络</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/layer5_ecosystem.html"><strong aria-hidden="true">6.</strong> Layer5: 生态环境</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/1_learning_resource/learning_resource.html"><strong aria-hidden="true">6.1.</strong> 学习资源</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/1_learning_resource/1_books/books.html"><strong aria-hidden="true">6.1.1.</strong> 书籍整理</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/1_learning_resource/2_courses/courses.html"><strong aria-hidden="true">6.1.2.</strong> 线上课程</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/1_learning_resource/3_blogs/blogs.html"><strong aria-hidden="true">6.1.3.</strong> 博客文章</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/1_learning_resource/4_videos/videos.html"><strong aria-hidden="true">6.1.4.</strong> 在线视频</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/1_learning_resource/5_projects/projects.html"><strong aria-hidden="true">6.1.5.</strong> 开源项目</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/2_lang_update/lang_update.html"><strong aria-hidden="true">6.2.</strong> 官方动态</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/3_community/community.html"><strong aria-hidden="true">6.3.</strong> 社区热点</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/4_academic/academic.html"><strong aria-hidden="true">6.4.</strong> 学术讨论</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/open_source.html"><strong aria-hidden="true">6.5.</strong> 开源观察</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/1_underlying/underlying.html"><strong aria-hidden="true">6.5.1.</strong> 底层开发</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/1_underlying/command/command.html"><strong aria-hidden="true">6.5.1.1.</strong> 命令行工具</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/1_underlying/data/data.html"><strong aria-hidden="true">6.5.1.2.</strong> 数据处理</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/1_underlying/embedded/embedded.html"><strong aria-hidden="true">6.5.1.3.</strong> 嵌入式</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/1_underlying/os/os.html"><strong aria-hidden="true">6.5.1.4.</strong> 系统开发</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/1_underlying/os/pythontutor_anatomy.html"><strong aria-hidden="true">6.5.1.4.1.</strong> Pythontutor解剖</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/1_underlying/performance/performance.html"><strong aria-hidden="true">6.5.1.5.</strong> 性能工具</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/2_network/network.html"><strong aria-hidden="true">6.5.2.</strong> 网络相关</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/2_network/cloud/cloud.html"><strong aria-hidden="true">6.5.2.1.</strong> 云原生</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/2_network/frontend/frontend.html"><strong aria-hidden="true">6.5.2.2.</strong> 前端基建</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/2_network/network/network.html"><strong aria-hidden="true">6.5.2.3.</strong> 网络基建</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/2_network/web/web.html"><strong aria-hidden="true">6.5.2.4.</strong> web开发</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/3_media/media.html"><strong aria-hidden="true">6.5.3.</strong> 多媒体</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/3_media/av/av.html"><strong aria-hidden="true">6.5.3.1.</strong> 音视频处理</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/3_media/game/game.html"><strong aria-hidden="true">6.5.3.2.</strong> 游戏开发</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/5_open_source/4_other/other.html"><strong aria-hidden="true">6.5.4.</strong> 其他</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/6_security/security.html"><strong aria-hidden="true">6.6.</strong> 安全参考</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/7_business/business.html"><strong aria-hidden="true">6.7.</strong> 商业观察</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/7_business/practices/practices.html"><strong aria-hidden="true">6.7.1.</strong> 生产实践</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/7_business/products/products.html"><strong aria-hidden="true">6.7.2.</strong> 优秀产品</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/8_libs/libs.html"><strong aria-hidden="true">6.8.</strong> 基础库</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/8_libs/built-ins/built-in.html"><strong aria-hidden="true">6.8.1.</strong> 内置库</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../layer5_ecosystem/8_libs/built-ins/loggers_intro.html"><strong aria-hidden="true">6.8.1.1.</strong> 日志记录</a></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/8_libs/built-ins/traceback_intro.html"><strong aria-hidden="true">6.8.1.2.</strong> 异常跟踪</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../layer5_ecosystem/9_frameworks/frameworks.html"><strong aria-hidden="true">6.9.</strong> 框架引擎</a></li></ol></li><li class="chapter-item expanded "><a href="../../checklist.html">Checklist</a></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none">
                        <button role="menuitem" class="theme" id="light">Light</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="rust">Rust (default)</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="coal">Coal</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="navy">Navy</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="ayu">Ayu</button>
                    </li>
                </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
            </div>

            <h1 class="menu-title">Python Cooker 🐍</h1>
            <h4 class="menu-bar"><a href="https://kuanhsiaokuo.github.io/think-tool-kit/">保持批判，有所取舍，知行合一, 方见真我</a> -- 练武不练功
                到头一场空 -- 《赛博英雄传》 </h4>
            <div class="right-buttons">
                    <a href="../../print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="git@github.com:KuanHsiaoKuo/Python-Cooker.git" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-rust"></i>
                    </a>
            </div>
        </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                           placeholder="Search this book ..." aria-controls="searchresults-outer"
                           aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>

                <!-- Page table of contents -->
                <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                </div>
                <h1 id="python模块系统"><a class="header" href="#python模块系统">Python模块系统</a></h1>
<!--ts-->
<ul>
<li><a href="#python%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F">Python模块系统</a>
<ul>
<li><a href="#package-module-method">package-&gt;module-&gt;method</a>
<ul>
<li><a href="#package">package</a></li>
<li><a href="#module">module</a></li>
<li><a href="#method">method</a></li>
</ul>
</li>
<li><a href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E7%94%A8%E6%84%8F%E5%88%86%E5%89%B2%E4%B8%8E%E5%AF%BC%E5%85%A5">模块的用意：分割与导入</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90">参考资源</a>
<ul>
<li><a href="#6-%E6%A8%A1%E5%9D%97--python-3105-%E6%96%87%E6%A1%A3"><a href="https://docs.python.org/zh-cn/3/tutorial/modules.html" rel="nofollow">6. 模块 — Python 3.10.5 文档</a></a></li>
<li><a href="#5-%E5%AF%BC%E5%85%A5%E7%B3%BB%E7%BB%9F--python-3105-%E6%96%87%E6%A1%A3"><a href="https://docs.python.org/zh-cn/3/reference/import.html" rel="nofollow">5. 导入系统 — Python 3.10.5 文档</a></a>
<ul>
<li><a href="#%E8%B0%83%E7%94%A8%E5%AF%BC%E5%85%A5%E6%9C%BA%E5%88%B6%E7%9A%84%E6%96%B9%E5%BC%8F">调用导入机制的方式</a></li>
<li><a href="#%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88">导入模块发生了什么</a></li>
<li><a href="#python%E7%9A%84%E6%A8%A1%E5%9D%97">python的模块</a></li>
<li><a href="#python%E7%9A%84%E5%8C%85">python的包</a></li>
<li><a href="#%E5%AF%B9%E6%AF%94%E8%81%94%E7%B3%BB%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97">对比联系包和模块</a></li>
<li><a href="#%E5%8C%85%E7%9A%84%E5%88%86%E7%B1%BB">包的分类</a>
<ul>
<li><a href="#%E5%B8%B8%E8%A7%84%E5%8C%85">常规包</a></li>
<li><a href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%8C%85">命名空间包</a></li>
</ul>
</li>
<li><a href="#%E6%90%9C%E7%B4%A2">搜索</a></li>
<li><a href="#%E5%8A%A0%E8%BD%BD">加载</a></li>
<li><a href="#%E7%9B%B8%E5%AF%B9%E5%AF%BC%E5%85%A5">相对导入</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- Created by https://github.com/ekalinin/github-markdown-toc -->
<!-- Added by: runner, at: Thu Jul 14 06:52:33 UTC 2022 -->
<!--te-->
<h2 id="package-module-method"><a class="header" href="#package-module-method">package-&gt;module-&gt;method</a></h2>
<h3 id="package"><a class="header" href="#package">package</a></h3>
<ul>
<li><a href="https://docs.python.org/zh-cn/3/glossary.html#term-package">术语对照表:package — Python 3.10.5 文档</a></li>
</ul>
<blockquote>
<p>一种可包含子模块或递归地包含子包的 Python module。从技术上说，包是带有 <strong>path</strong> 属性的 Python 模块。</p>
</blockquote>
<ul>
<li><a href="https://docs.python.org/zh-cn/3/glossary.html#term-regular-package">术语对照表:regular package — Python 3.10.5 文档</a></li>
</ul>
<blockquote>
<p>传统型的 package，例如包含有一个 <strong>init</strong>.py 文件的目录。</p>
</blockquote>
<ul>
<li><a href="https://docs.python.org/zh-cn/3/glossary.html#term-namespace-package">术语对照表: namespace package — Python 3.10.5 文档</a></li>
</ul>
<blockquote>
<p>PEP 420 所引入的一种仅被用作子包的容器的 package，命名空间包可以没有实体表示物，其描述方式与 regular package 不同，因为它们没有 <strong>init</strong>.py 文件。</p>
</blockquote>
<ul>
<li><a href="https://peps.python.org/pep-0420/">PEP 420 – Implicit Namespace Packages | peps.python.org</a></li>
</ul>
<h3 id="module"><a class="header" href="#module">module</a></h3>
<ul>
<li><a href="https://docs.python.org/zh-cn/3/glossary.html#term-module">术语对照表: module — Python 3.10.5 文档</a></li>
</ul>
<blockquote>
<p>此对象是 Python 代码的一种组织单位。各模块具有独立的命名空间，可包含任意 Python 对象。模块可通过 importing 操作被加载到 Python 中。</p>
</blockquote>
<ul>
<li><a href="https://docs.python.org/zh-cn/3/glossary.html#term-module-spec">术语对照表: module spec — Python 3.10.5 文档</a></li>
</ul>
<blockquote>
<p>一个命名空间，其中包含用于加载模块的相关导入信息。是 importlib.machinery.ModuleSpec 的实例。</p>
</blockquote>
<pre><code class="language-admonisth info title='ModuleSpec'">- [importlib --- import 的实现 — Python 3.10.5 文档](https://docs.python.org/zh-cn/3/library/importlib.html#importlib.machinery.ModuleSpec)
关于模块导入系统相关状态的规范。通常这是作为模块的 __spec__ 属性暴露出来。 
在以下描述中，括号里的名字给出了模块对象中直接可用的属性。
比如 module.__spec__.origin == module.__file__。 
但是请注意，虽然 值 通常是相等的，但它们可以不同，因为两个对象之间没有进行同步。
因此 __path__ 有可能在运行时做过更新，而这不会自动反映在 __spec__.submodule_search_locations 中。
</code></pre>
<h3 id="method"><a class="header" href="#method">method</a></h3>
<div id="admonition-mro" class="admonition info">
<div class="admonition-title">
<p>MRO</p>
<p><a class="admonition-anchor-link" href="#admonition-mro"></a></p>
</div>
<div>
<ul>
<li><a href="https://docs.python.org/zh-cn/3/glossary.html#term-method-resolution-order">术语对照表: method resolution order — Python 3.10.5 文档</a>
方法解析顺序就是在查找成员时搜索全部基类所用的先后顺序. 请查看 Python 2.3 方法解析顺序 了解自 2.3 版起 Python 解析器所用相关算法的详情。</li>
<li><a href="https://www.python.org/download/releases/2.3/mro/">The Python 2.3 Method Resolution Order | Python.org</a></li>
</ul>
</div>
</div>
<h2 id="模块的用意分割与导入"><a class="header" href="#模块的用意分割与导入">模块的用意：分割与导入</a></h2>
<h1 id="参考资源"><a class="header" href="#参考资源">参考资源</a></h1>
<h2 id="6-模块--python-3105-文档"><a class="header" href="#6-模块--python-3105-文档"><a href="https://docs.python.org/zh-cn/3/tutorial/modules.html">6. 模块 — Python 3.10.5 文档</a></a></h2>
<ol>
<li>文件即模块：为实现切分需求，Python 把各种定义存入一个文件，在脚本或解释器的交互式实例中使用。这个文件就是 模块 ；模块中的定义可以 导入 到其他模块或 主 模块（在顶层和计算器模式下，执行脚本中可访问的变量集）。</li>
</ol>
<blockquote>
<p>在模块这一点，python、rust和go各有不同</p>
</blockquote>
<ul>
<li>python的代码管理最小单位是模块</li>
<li>rust代码管理最小单位也是模块，但是它还提供了一个关键字mod让一个文件里面包含多个模块。rust的crate其实是'标准'包，由一系列已发布、版本化、被分发的包构成。可以直接从版本控制仓库或crate.io下载模块。</li>
<li>go的module和package的关系则与前两者反过来：模块由一系列已发布、版本化、被分发的包构成。可以直接从版本控制仓库或模块代理服务器下载模块。</li>
</ul>
<ol start="2">
<li>文件名即模块名：模块是包含 Python 定义和语句的文件。其文件名是模块名加后缀名 .py 。</li>
<li>在模块内部，通过全局变量 <strong>name</strong> 可以获取模块名（即字符串）。</li>
<li>关于模块命名空间：每个模块有各自文件范围内的全局命名空间(global namespace)</li>
<li>模块顶部引入的其他模块在文件内全局可用，在函数、类等内部引入的，只能在内部使用</li>
<li>关于from module_name import *: 导入所有不以下划线（_）开头的名称</li>
</ol>
<blockquote>
<p>大多数情况下，不要用这个功能，这种方式向解释器导入了一批未知的名称，可能会覆盖已经定义的名称。</p>
</blockquote>
<ol start="7">
<li>关于导入时发生的事情：</li>
</ol>
<ul>
<li>当一个名为 spam 的模块被导入时，解释器首先搜索具有该名称的内置模块。</li>
<li>这些模块的名字被列在 sys.buildin_module_names 中。</li>
<li>如果没有找到，它就在变量 sys.path 给出的目录列表中搜索一个名为 spam.py 的文件。</li>
</ul>
<ol start="8">
<li>sys.path 从这些位置初始化:</li>
</ol>
<ul>
<li>输入脚本的目录（或未指定文件时的当前目录）。</li>
<li>PYTHONPATH （目录列表，与 shell 变量 PATH 的语法一样）。</li>
<li>依赖于安装的默认值（按照惯例包括一个 site-packages 目录，由 site 模块处理）。</li>
</ul>
<ol start="9">
<li>关于'编译'文件处理：
<a href="https://docs.python.org/zh-cn/3/tutorial/modules.html#compiled-python-files">6. 模块 — Python 3.10.5 文档</a></li>
<li>找不到模块时的处理步骤：</li>
</ol>
<ul>
<li>使用dir()函数确认搜索路径</li>
<li>如果没找到，使用sys.path将对应路径加入</li>
</ul>
<blockquote>
<p>dir()函数列出会所有类型的名称：变量、模块、函数等。但不会列出内置函数和变量的名称。这些内容的定义在标准模块 builtins 里</p>
</blockquote>
<ol start="11">
<li>包是模块的集合，存在形式是目录。导入包时，Python 搜索 sys.path 里的目录，查找包的子目录。</li>
<li>包的标志: 必须有__path__属性，包含__init__.py</li>
<li>包的分类：</li>
</ol>
<ul>
<li>传统包(regular package): 包含一个__init__.py</li>
</ul>
<blockquote>
<p>导入包的时候，或默认执行__init__.py里面的代码</p>
</blockquote>
<ul>
<li>命名空间包(namespace package): 一种仅被用作子包的容器的 package，命名空间包可以没有实体表示物, 没有__init__.py</li>
</ul>
<ol start="14">
<li>从包导入*</li>
</ol>
<ul>
<li>在文件系统查找并导入包的所有子模块。这项操作花费的时间较长，并且导入子模块可能会产生不必要的副作用，这种副作用只有在显式导入子模块时才会发生。</li>
<li>可以在__init__.py里面使用__all__定义默认可以被导入的模块</li>
</ul>
<ol start="15">
<li>包的__path__属性：在导入包的时候，执行__init__.py之前，会默认将这个属性进行初始化。主要是将当前导入包的目录放入搜索路径里面</li>
</ol>
<ul>
<li><a href="https://docs.python.org/zh-cn/3/reference/import.html#path__">__path__属性 — Python 3.10.5 文档</a></li>
<li><a href="https://docs.python.org/zh-cn/3/reference/import.html#package-path-rules">module.<strong>path</strong> — Python 3.10.5 文档</a></li>
</ul>
<h2 id="5-导入系统--python-3105-文档"><a class="header" href="#5-导入系统--python-3105-文档"><a href="https://docs.python.org/zh-cn/3/reference/import.html">5. 导入系统 — Python 3.10.5 文档</a></a></h2>
<h3 id="调用导入机制的方式"><a class="header" href="#调用导入机制的方式">调用导入机制的方式</a></h3>
<ol>
<li>import语句/<strong>import</strong>()</li>
<li>importlib.import_module</li>
</ol>
<div id="admonition-importlib说明" class="admonition info">
<div class="admonition-title">
<p>importlib说明</p>
<p><a class="admonition-anchor-link" href="#admonition-importlib说明"></a></p>
</div>
<div>
<p>importlib 模块提供了一个丰富的 API 用来与导入系统进行交互。 
例如 importlib.import_module() 提供了相比内置的 <strong>import</strong>() 更推荐、更简单的 API 用来发起调用导入机制。 </p>
<blockquote>
<p>更多细节请参看 importlib 库文档:</p>
</blockquote>
<p><a href="https://docs.python.org/zh-cn/3/library/importlib.html#module-importlib">importlib --- import 的实现 — Python 3.10.5 文档</a></p>
</div>
</div>
<h3 id="导入模块发生了什么"><a class="header" href="#导入模块发生了什么">导入模块发生了什么</a></h3>
<ol>
<li>当一个模块首次被导入时，Python 会搜索该模块</li>
<li>如果找到就创建一个 module 对象 1 并初始化它。</li>
<li>如果指定名称的模块未找到，则会引发 ModuleNotFoundError。</li>
<li>当发起调用导入机制时，Python 会实现多种策略来搜索指定名称的模块。</li>
</ol>
<blockquote>
<p>这些策略可以通过使用使用下文所描述的多种钩子来加以修改和扩展。</p>
</blockquote>
<div id="admonition-33版更改" class="admonition tip">
<div class="admonition-title">
<p>3.3版更改</p>
<p><a class="admonition-anchor-link" href="#admonition-33版更改"></a></p>
</div>
<div>
<p>在 3.3 版更改: 导入系统已被更新以完全实现 PEP 302 中的第二阶段要求。 
不会再有任何隐式的导入机制 —— 整个导入系统都通过 sys.meta_path 暴露出来。
此外，对原生命名空间包的支持也已被实现 (参见 PEP 420)。</p>
</div>
</div>
<h3 id="python的模块"><a class="header" href="#python的模块">python的模块</a></h3>
<p>Python 只有一种模块对象类型，所有模块都属于该类型，无论模块是用 Python、C 还是别的语言实现。</p>
<h3 id="python的包"><a class="header" href="#python的包">python的包</a></h3>
<p>为了帮助组织模块并提供名称层次结构，Python 还引入了 包 的概念。</p>
<p>你可以把包看成是文件系统中的目录，并把模块看成是目录中的文件</p>
<div id="admonition-但请不要对这个类比做过于字面的理解" class="admonition note">
<div class="admonition-title">
<p>但请不要对这个类比做过于字面的理解</p>
<p><a class="admonition-anchor-link" href="#admonition-但请不要对这个类比做过于字面的理解"></a></p>
</div>
<div>
<p>因为包和模块不是必须来自于文件系统。 为了方便理解本文档，我们将继续使用这种目录和文件的类比。 
与文件系统一样，包通过层次结构进行组织，在包之内除了一般的模块，还可以有子包。</p>
</div>
</div>
<h3 id="对比联系包和模块"><a class="header" href="#对比联系包和模块">对比联系包和模块</a></h3>
<div id="admonition-包只是特殊的模块具有__path__属性" class="admonition tip">
<div class="admonition-title">
<p>包只是特殊的模块，具有__path__属性</p>
<p><a class="admonition-anchor-link" href="#admonition-包只是特殊的模块具有__path__属性"></a></p>
</div>
<div>
<p>要注意的一个重点概念是所有包都是模块，但并非所有模块都是包。 或者换句话说，包只是一种特殊的模块。 特别地，任何具有 <strong>path</strong> 属性的模块都会被当作是包。</p>
<p>所有模块都有自己的名字。 子包名与其父包名会以点号分隔，与 Python 的标准属性访问语法一致。</p>
</div>
</div>
<h3 id="包的分类"><a class="header" href="#包的分类">包的分类</a></h3>
<h4 id="常规包"><a class="header" href="#常规包">常规包</a></h4>
<ol>
<li>包含__init__.py文件，会在导入时隐式执行</li>
<li>如果没有__init__.py, 一个包含文件的目录也是会被认为是一个包, <strong>命名空间包</strong></li>
</ol>
<div id="admonition-多层__init__py的执行顺序" class="admonition info">
<div class="admonition-title">
<p>多层__init__.py的执行顺序</p>
<p><a class="admonition-anchor-link" href="#admonition-多层__init__py的执行顺序"></a></p>
</div>
<div>
<pre><code class="language-shell">parent/
    __init__.py
    one/
        __init__.py
    two/
        __init__.py
    three/
        __init__.py
</code></pre>
<pre><code class="language-python">import parent.one
</code></pre>
<ol>
<li>导入 parent.one 将隐式地执行 parent/<strong>init</strong>.py 和 parent/one/<strong>init</strong>.py。 </li>
<li>后续导入 parent.two 或 parent.three 则将分别执行 parent/two/<strong>init</strong>.py 和 parent/three/<strong>init</strong>.py。</li>
</ol>
</div>
</div>
<h4 id="命名空间包"><a class="header" href="#命名空间包">命名空间包</a></h4>
<ul>
<li><a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c10/p05_separate_directories_import_by_namespace.html">10.5 利用命名空间导入目录分散的代码 — python3-cookbook 3.0.0 文档</a></li>
</ul>
<ol>
<li>命名空间包不包含__init__.py, 这样就不会限定是单个包内的模块名称</li>
<li>不包含__init__.py的时候，不同目录下的同名包会被认为是同一个包。</li>
</ol>
<blockquote>
<p>这一点可以和golang的包机制对比联系起来</p>
</blockquote>
<div id="admonition-命名包的命名空间-两个不同的包目录被合并到一起你可以导入spamblah和spamgrok并且它们能够工作" class="admonition info">
<div class="admonition-title">
<p>命名包的命名空间, 两个不同的包目录被合并到一起，你可以导入spam.blah和spam.grok，并且它们能够工作。</p>
<p><a class="admonition-anchor-link" href="#admonition-命名包的命名空间-两个不同的包目录被合并到一起你可以导入spamblah和spamgrok并且它们能够工作"></a></p>
</div>
<div>
<pre><code class="language-shell">foo-package/
    spam/
        blah.py

bar-package/
    spam/
        grok.py
</code></pre>
<pre><code class="language-shell">&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.path.extend(['foo-package', 'bar-package'])
&gt;&gt;&gt; import spam.blah
&gt;&gt;&gt; import spam.grok
&gt;&gt;&gt;
</code></pre>
</div>
</div>
<h3 id="搜索"><a class="header" href="#搜索">搜索</a></h3>
<h3 id="加载"><a class="header" href="#加载">加载</a></h3>
<h3 id="相对导入"><a class="header" href="#相对导入">相对导入</a></h3>
<div id="admonition-举例相对导入" class="admonition info">
<div class="admonition-title">
<p>举例相对导入</p>
<p><a class="admonition-anchor-link" href="#admonition-举例相对导入"></a></p>
</div>
<div>
<pre><code class="language-shell">package/
    __init__.py
    subpackage1/
        __init__.py
        moduleX.py
        moduleY.py
    subpackage2/
        __init__.py
        moduleZ.py
    moduleA.py
</code></pre>
<ul>
<li>使用&quot;.&quot;相对导入</li>
</ul>
<pre><code class="language-python">from .moduleY import spam
from .moduleY import spam as ham
from . import moduleY
from ..subpackage1 import moduleY
from ..subpackage2.moduleZ import eggs
from ..moduleA import foo
</code></pre>
<ul>
<li>还可以主动添加搜索路径后导入</li>
</ul>
<pre><code class="language-python"># moduleX.py
import sys
sys.append('..')
from moduleA import *
</code></pre>
</div>
</div>
            </main>

            <!--            <script src="https://utteranc.es/client.js"-->
            <!--                    repo="RustMagazine/rust_magazine_2022"-->
            <!--                    issue-term="title"-->
            <!--                    theme="github-light"-->
            <!--                    crossorigin="anonymous"-->
            <!--                    async></script>-->

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                    <a rel="prev" href="../../layer2_design_abstract/6_module_manage/6_module_manage.html" class="mobile-nav-chapters previous"
                       title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../layer3_task_abstract/layer3_task_abstract.html" class="mobile-nav-chapters next"
                       title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="../../layer2_design_abstract/6_module_manage/6_module_manage.html" class="nav-chapters previous" title="Previous chapter"
               aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="../../layer3_task_abstract/layer3_task_abstract.html" class="nav-chapters next" title="Next chapter"
               aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
    </nav>

</div>




    <script type="text/javascript">
        window.playground_copyable = true;
    </script>

    <script src="../../ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

    <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>

<script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
<script src="../../book.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JS scripts -->
    <script type="text/javascript" src="../../assets/mermaid/mermaid.min.js"></script>
    <script type="text/javascript" src="../../assets/mermaid/mermaid-init.js"></script>
    <script type="text/javascript" src="../../assets/smart-anchor.js"></script>
    <script type="text/javascript" src="../../assets/pagetoc/sidebar.js"></script>

</body>
</html>
